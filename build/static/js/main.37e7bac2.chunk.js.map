{"version":3,"sources":["components/header.js","components/search.js","components/filter.js","components/movieCard.js","components/cards.js","containers/header.js","containers/movieCard.js","allGenres.js","pages/dashboard.js","App.js","index.js"],"names":["Header","children","restProps","Search","className","Filter","Title","Form","Button","Input","Label","Select","MovieCard","Cards","HeaderContainer","MovieCardContainer","movie","channel","media_type","useState","trailerInfo","setTrailerInfo","isOpen","setIsOpen","useEffect","fetch","id","process","then","response","json","results","find","result","type","data","Link","href","target","Image","src","poster_path","alt","title","name","ReleaseDate","release_date","first_air_date","Rating","vote_average","Overview","overview","Trailer","onClick","ReactDom","createPortal","Overlay","Container","Youtube","videoId","key","opts","height","width","playerVars","autoplay","document","body","allGenres","Dashboard","query","setQuery","moviesTvShows","setMoviesTvShows","filterdMoviesTvShow","setFilterdMoviesTvShow","sortBy","setSortBy","channelAt","setChannelAt","usedGenres","setUsedGenres","selectedGenreId","setSelectedGenreId","searchMovies","e","a","preventDefault","method","JSON","stringify","filter","err","console","error","sortedMovies","sort","b","Date","localeCompare","selectedChannel","filterdByGenre","i","genre_ids","includes","parseInt","genreIds","map","concat","g","onSubmit","placeholder","value","onChange","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.37e7bac2.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function Header({ children, ...restProps }) {\n    return <div {...restProps} >{children}</div>\n}\n\nHeader.Title = function Title({ children, ...restProps }) {\n    return <h1 {...restProps} className=\"text-center text-7xl mb-4\">{children}</h1>\n}","import React from 'react'\n\nexport default function Search({ children, ...restProps }) {\n    return <div {...restProps} className=\"mb-5 text-secondary\">{children}</div>\n}\n\nSearch.Form = function Search({ children, ...restProps }) {\n    return <form {...restProps} className=\"mb-5\">{children}</form>\n}\n\nSearch.Button = function Search({ children, ...restProps }) {\n    return <button {...restProps}\n        className=\"hover:opacity-75 bg-primary text-2xl px-8 py-4 ml-2 rounded-full\">{children}</button>\n}\n\nSearch.Input = function Input({ children, ...restProps }) {\n    return <input {...restProps} className=\"text-2xl leading-10 border rounded-3xl mb-4 px-8 py-2 mr-2.5 w-5/6\">{children}</input>\n}","import React from 'react'\n\nexport default function Filter({ children, ...restProps }) {\n    return <div {...restProps} className=\"flex\">{children}</div>\n}\n\nFilter.Label = function Label({ children, ...restProps }) {\n    return <h1 {...restProps} className=\"text-4xl uppercase mb-1 mr-1\">{children}</h1>\n}\n\nFilter.Form = function Form({ children, ...restProps }) {\n    return <form {...restProps} className=\"flex\">{children}</form>\n}\n\nFilter.Select = function Select({ children, ...restProps }) {\n    return <select {...restProps}\n        className=\"text-2xl text-secondary leading-10 border rounded-3xl mb-4 px-8 py-2 mr-2.5\">{children}</select>\n}","import React from 'react'\nimport YouTube from 'react-youtube'\n\nexport default function MovieCard({ children, ...restProps }) {\n    return <div {...restProps} className=\"flex flex-col px-16 py-8 rounded-xl shadow-2xl mb-8 mr-8 bg-grey text-primary\">{children}</div>\n}\n\nMovieCard.Title = function Title({ children, ...restProps }) {\n    return <h3 {...restProps} className=\"my-4 text-5xl text-white text-center\">{children}</h3>\n}\n\nMovieCard.Image = function Image({ children, ...restProps }) {\n    return <img {...restProps} className=\"mx-auto my-0\" />\n}\n\nMovieCard.Link = function Link({ children, ...restProps }) {\n    return <a {...restProps}>{children}</a>\n}\n\nMovieCard.ReleaseDate = function ReleaseDate({ children, ...restProps }) {\n    return <p {...restProps} className=\" text-center\">{children}</p>\n}\n\nMovieCard.Rating = function Rating({ children, ...restProps }) {\n    return <p {...restProps} className=\" text-center\">{children}</p>\n}\n\nMovieCard.Overview = function Overview({ children, ...restProps }) {\n    return <p {...restProps} className=\"text-white text-center my-8\">{children}</p>\n}\n\nMovieCard.Trailer = function Trailer({ children, ...restProps }) {\n    return <button {...restProps} className=\" bg-primary text-white mt-20 rounded-full px-16 py-4 text-3xl \">{children}</button>\n}\n\nMovieCard.Overlay = function Overlay({ children, ...restProps }) {\n    return <div {...restProps} className=\"fixed inset-0 bg-secondary bg-opacity-80 z-50 h-screen\">{children}</div>\n}\n\nMovieCard.Youtube = function Youtube({ children, ...restProps }) {\n    return <YouTube {...restProps} className=\" m-auto z-50\" />\n}\n\nMovieCard.Container = function Container({ children, ...restProps }) {\n    return <container {...restProps} className=\"flex h-screen justify-center items-center\">{children}</container>\n}","import React from 'react'\n\nexport default function Cards({ children, ...restProps }) {\n    return <div {...restProps} className=\"grid grid-flow-rows md:grid-cols-3 grid-rows-3 gap-4 mt-16\">{children}</div>\n}\n","import React from 'react'\nimport { Header } from '../components'\n\nexport default function HeaderContainer() {\n    return (\n        <>\n            <Header.Title >My Movie Search</Header.Title>\n        </>\n    )\n}\n\n","import React, { useState, useEffect } from \"react\";\nimport ReactDom from 'react-dom'\nimport { MovieCard } from '../components'\n\n\nexport default function MovieCardContainer({ movie }) {\n    const channel = movie.media_type === \"tv\" ? \"tv\" : \"movie\"\n    const [trailerInfo, setTrailerInfo] = useState([])\n    const [isOpen, setIsOpen] = useState(false)\n    const API_SECRET = process.env.REACT_APP_API_SECRET\n\n    useEffect(() => {\n        fetch(`https://api.themoviedb.org/3/${channel}/${movie.id}/videos?api_key=${API_SECRET}&language=en-US`)\n            .then(response => response.json())\n            .then(response => response.results.find(result => result.type === \"Trailer\"))\n            .then(data => {\n                setTrailerInfo(data)\n            })\n    }, []);\n\n    const opts = {\n        height: '390',\n        width: '640',\n        playerVars: {\n            autoplay: 1,\n        },\n    }\n\n\n    return (\n        <MovieCard  >\n            <MovieCard.Link href={`https://www.themoviedb.org/${channel}/${movie.id}`} target=\"_blank\">\n                <MovieCard.Image\n                    src={`https://image.tmdb.org/t/p/w185_and_h278_bestv2/${movie.poster_path}`}\n                    alt={movie.title + ' poster'}\n                />\n            </MovieCard.Link>\n            <MovieCard.Title>{movie.title || movie.name}</MovieCard.Title>\n            <MovieCard.ReleaseDate><small>RELEASE DATE: {movie.release_date || movie.first_air_date}</small></MovieCard.ReleaseDate>\n            <MovieCard.Rating><small>RATING: {movie.vote_average}</small></MovieCard.Rating>\n            <MovieCard.Overview>{movie.overview}</MovieCard.Overview>\n            {trailerInfo ? <MovieCard.Trailer onClick={() => setIsOpen(true)} >Trailer</MovieCard.Trailer> : null}\n            {isOpen ? ReactDom.createPortal(\n                <MovieCard.Overlay onClick={() => setIsOpen(false)}>\n                    <MovieCard.Container>\n                        <MovieCard.Youtube videoId={trailerInfo.key} opts={opts} />\n                    </MovieCard.Container>\n                </MovieCard.Overlay>,\n                document.body) : null}\n        </MovieCard>\n    )\n}","export const allGenres = [\n    {\n        \"id\": 10759,\n        \"name\": \"Action & Adventure\"\n    },\n    {\n        \"id\": 16,\n        \"name\": \"Animation\"\n    },\n    {\n        \"id\": 35,\n        \"name\": \"Comedy\"\n    },\n    {\n        \"id\": 80,\n        \"name\": \"Crime\"\n    },\n    {\n        \"id\": 99,\n        \"name\": \"Documentary\"\n    },\n    {\n        \"id\": 18,\n        \"name\": \"Drama\"\n    },\n    {\n        \"id\": 10751,\n        \"name\": \"Family\"\n    },\n    {\n        \"id\": 10762,\n        \"name\": \"Kids\"\n    },\n    {\n        \"id\": 9648,\n        \"name\": \"Mystery\"\n    },\n    {\n        \"id\": 10763,\n        \"name\": \"News\"\n    },\n    {\n        \"id\": 10764,\n        \"name\": \"Reality\"\n    },\n    {\n        \"id\": 10765,\n        \"name\": \"Sci-Fi & Fantasy\"\n    },\n    {\n        \"id\": 10766,\n        \"name\": \"Soap\"\n    },\n    {\n        \"id\": 10767,\n        \"name\": \"Talk\"\n    },\n    {\n        \"id\": 10768,\n        \"name\": \"War & Politics\"\n    },\n    {\n        \"id\": 37,\n        \"name\": \"Western\"\n    }\n]\n","import React, { useState, useEffect } from 'react'\nimport { HeaderContainer, MovieCardContainer, } from '../containers'\nimport { Search, Filter, Cards } from '../components'\nimport { allGenres } from '../allGenres'\n\nexport default function Dashboard() {\n    const [query, setQuery] = useState('');\n    const [moviesTvShows, setMoviesTvShows] = useState([]);\n    const [filterdMoviesTvShow, setFilterdMoviesTvShow] = useState([])\n    const [sortBy, setSortBy] = useState();\n    const [channelAt, setChannelAt] = useState();\n    const [usedGenres, setUsedGenres] = useState([])\n    const [selectedGenreId, setSelectedGenreId] = useState()\n\n\n    const searchMovies = async (e) => {\n        e.preventDefault();\n\n        const url = \"/.netlify/functions/fetchMovies\"\n        try {\n            fetch(url, {\n                method: \"POST\",\n                body: JSON.stringify({\n                    query: query,\n                }),\n            }).then((response) => response.json())\n                .then(response => response.data.filter(movie => movie.poster_path))\n                .then(response => {\n                    setMoviesTvShows(response)\n                    setFilterdMoviesTvShow(response)\n                });\n        } catch (err) {\n            console.error(err);\n        }\n    }\n\n    useEffect(() => {\n        const sortedMovies = sortBy === \"High-Low\" ? [...filterdMoviesTvShow].sort((a, b) => b.vote_average - a.vote_average)\n            : sortBy === \"Low-High\" ? [...filterdMoviesTvShow].sort((a, b) => a.vote_average - b.vote_average)\n                : sortBy === \"NewestFirst\" ? [...filterdMoviesTvShow].sort((a, b) => new Date(b.release_date || b.first_air_date) - new Date(a.release_date || a.first_air_date))\n                    : sortBy === \"OldestFirst\" ? [...filterdMoviesTvShow].sort((a, b) => new Date(a.release_date || a.first_air_date) - new Date(b.release_date || b.first_air_date))\n                        : sortBy === \"Title\" ? [...filterdMoviesTvShow].sort((a, b) => (a.title || a.name).localeCompare(b.title || b.name))\n                            : [...filterdMoviesTvShow]\n        setFilterdMoviesTvShow(sortedMovies)\n    }, [sortBy])\n\n    useEffect(() => {\n        const selectedChannel = channelAt === \"movies\" ? [...moviesTvShows].filter(movie => movie.media_type === \"movie\")\n            : channelAt === \"tvShows\" ? [...moviesTvShows].filter(movie => movie.media_type === \"tv\")\n                : [...moviesTvShows]\n\n        const filterdByGenre = !!selectedGenreId ? [...selectedChannel].filter(i => i.genre_ids.includes(parseInt(selectedGenreId))) : [...selectedChannel]\n\n        setFilterdMoviesTvShow(filterdByGenre)\n    }, [channelAt, selectedGenreId])\n\n    useEffect(() => {\n        let genreIds = []\n        moviesTvShows.map(e => genreIds = genreIds.concat(e.genre_ids))\n        const usedGenres = allGenres.filter(g => genreIds.includes(g.id))\n        setUsedGenres(usedGenres)\n    }, [filterdMoviesTvShow])\n\n    return (\n        <div className=\"container\">\n            <HeaderContainer />\n            {/* Searchform  */}\n            <Search>\n                <Search.Form onSubmit={searchMovies}>\n                    <Search.Input type=\"text\" name=\"query\"\n                        placeholder=\"Search for a movie or tv show\"\n                        value={query} onChange={(e) => setQuery(e.target.value)}\n                    />\n                    <Search.Button type=\"submit\">Search</Search.Button>\n                </Search.Form>\n            </Search>\n            {/* Adjust Search  */}\n            <Filter>\n                {/* Sort Search */}\n                <Filter.Form>\n                    <Filter.Label >Sort By:</Filter.Label>\n                    <Filter.Select id=\"sortBy\" onChange={(e) => setSortBy(e.target.value)}>\n                        <option value=\"\">---</option>\n                        <option value=\"High-Low\">High-Low</option>\n                        <option value=\"Low-High\">Low-High</option>\n                        <option value=\"Title\">Title</option>\n                        <option value=\"NewestFirst\">Newest first</option>\n                        <option value=\"OldestFirst\">Oldest first</option>\n                    </Filter.Select>\n                </Filter.Form>\n                {/* Filter Search  */}\n                <Filter.Form >\n                    <Filter.Label>Type:</Filter.Label>\n                    <Filter.Select id=\"filterByType\"\n                        onChange={(e) => setChannelAt(e.target.value)}\n                    >\n                        <option value=\"\">---</option>\n                        <option value=\"movies\">Movies</option>\n                        <option value=\"tvShows\">TV Shows</option>\n                    </Filter.Select>\n                </Filter.Form>\n                {/* Filter Genre  */}\n                <Filter.Form>\n                    <Filter.Label>Genre:</Filter.Label>\n                    <Filter.Select id=\"filterByGenre\"\n                        onChange={(e) => setSelectedGenreId(e.target.value)}>\n                        <option value=\"\">---</option>\n                        {usedGenres.map(g => <option value={g.id}>{g.name}</option>)}\n                    </Filter.Select>\n                </Filter.Form>\n            </Filter>\n            <Cards >\n                {filterdMoviesTvShow.map(movie => (\n                    <MovieCardContainer movie={movie} key={movie.id} />\n                ))}\n            </Cards>\n        </div>\n    )\n\n}","// import React from 'react'\n// import ReactDOM from 'react-dom'\nimport { Dashboard } from \"./pages\"\n\nfunction App() {\n  return (\n    <Dashboard />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}